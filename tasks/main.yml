---

# - name: disable modules
#   become: true
#   icingaweb_database_user:
#     state: "{{ item.state | default('present') }}"
#     username: "{{ item.username }}"
#     password: "{{ item.password }}"
#     preferences: "{{ item.preferences | default(omit) }}"
#     force: "{{ item.force | default(omit) }}"
#     database_login_host: "{{ icingaweb_auth_backend.host }}"
#     database_name: "{{ icingaweb_auth_backend.dbname }}"
#   loop:
#     "{{ icingaweb_users }}"


- include: preparations.yml
  become: true
  tags:
    - preparations

- include: installation.yml
  become: true
  tags:
    - installation

- include: configure.yml
  become: true
  tags:
    - configure

- name: install themes
  include_tasks: themes/install.yml

- name: external modules
  include_tasks: modules/install.yml
