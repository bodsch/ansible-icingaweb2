#jinja2: trim_blocks: True, lstrip_blocks: True
; {{ ansible_managed }}

{% set _valid_attr = ['transport','host','port','username','password'] %}

{% if icingaweb_icingadb.commandtransports is defined and
      icingaweb_icingadb.commandtransports | count != 0 %}
{% for key  in icingaweb_icingadb.commandtransports %}
[{{ key }}]
{% for k,v in icingaweb_icingadb.commandtransports[key].items() %}
{% if k in _valid_attr %}
{{ "%-10s" | format(k,) }} = "{{ v }}"
{% endif %}
{% endfor %}

{% endfor %}
{% endif %}
